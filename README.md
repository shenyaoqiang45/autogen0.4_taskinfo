# å†…å®¹åˆ›ä½œ Agent ç³»ç»Ÿ

åŸºäº **AutoGen 0.4+** æ„å»ºçš„æ™ºèƒ½å†…å®¹åˆ›ä½œç³»ç»Ÿã€‚ç”¨æˆ·åªéœ€æä¾›ä¸»é¢˜ï¼Œç³»ç»Ÿè‡ªåŠ¨è¡¥å……**æ—¶é—´ã€åœ°ç‚¹ã€äººç‰©**ç­‰å…³é”®è¦ç´ ï¼Œå¹¶æä¾›å¯é çš„**å¼•ç”¨æ¥æº**ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ¤– **å¤š Agent åä½œ**: 5 ä¸ªä¸“ä¸š Agent åˆ†å·¥åˆä½œ
- ğŸ“ **æ™ºèƒ½æ‰©å±•**: è‡ªåŠ¨è¡¥å……æ—¶é—´çº¿ã€åœ°ç†ä¿¡æ¯ã€äººç‰©å…³ç³»
- ğŸ” **å¼•ç”¨æœç´¢**: é›†æˆ Tavily æœç´¢ï¼Œæä¾›å¯é æ¥æº
- ğŸ¯ **ç»“æ„åŒ–è¾“å‡º**: ç”Ÿæˆä¾¿äºä½¿ç”¨çš„åˆ›ä½œç´ æ
- âš¡ **å¼‚æ­¥å¤„ç†**: é«˜æ•ˆçš„å¹¶å‘æ‰§è¡Œ

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
ç”¨æˆ·ä¸»é¢˜ â†’ ä¸»é¢˜åˆ†æ Agent â†’ ä¿¡æ¯æ‰©å±• Agent â†’ æœç´¢å¼•ç”¨ Agent â†’ å†…å®¹æ•´åˆ Agent â†’ åˆ›ä½œç´ æ
```

### Agent è§’è‰²

1. **TopicAnalyzer** - ä¸»é¢˜åˆ†æï¼šè¯†åˆ«ä¸»é¢˜ç±»å‹ã€æå–æ ¸å¿ƒè¦ç´ 
2. **InfoEnricher** - ä¿¡æ¯æ‰©å±•ï¼šè¡¥å……æ—¶é—´ã€åœ°ç‚¹ã€äººç‰©ä¿¡æ¯
3. **SearchAgent** - æœç´¢å¼•ç”¨ï¼šæŸ¥æ‰¾å’ŒéªŒè¯å¯é æ¥æº
4. **Integrator** - å†…å®¹æ•´åˆï¼šç”Ÿæˆç»“æ„åŒ–çš„åˆ›ä½œç´ æ
5. **Orchestrator** - åè°ƒå™¨ï¼šåè°ƒæ•´ä¸ªæµç¨‹ï¼ˆå¯é€‰ï¼‰

## ğŸ“‹ å‰ç½®è¦æ±‚

- Python 3.10+
- OpenAI API Keyï¼ˆå¿…éœ€ï¼‰
- Tavily API Keyï¼ˆæ¨èï¼Œç”¨äºæœç´¢ï¼‰
- é«˜å¾·åœ°å›¾ API Keyï¼ˆå¯é€‰ï¼Œç”¨äºåœ°ç†ä¿¡æ¯ï¼‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
# å…‹éš†æˆ–ä¸‹è½½é¡¹ç›®
cd autogen0.4_taskinfo

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ API Keys
```

`.env` æ–‡ä»¶å†…å®¹ï¼š
```env
# å¿…éœ€
OPENAI_API_KEY=your_openai_api_key_here

# æ¨èï¼ˆç”¨äºæœç´¢å¼•ç”¨ï¼‰
TAVILY_API_KEY=your_tavily_api_key_here

# å¯é€‰
AMAP_API_KEY=your_amap_api_key_here

# æ¨¡å‹é…ç½®
DEFAULT_MODEL=gpt-4-turbo-preview
TEMPERATURE=0.7
MAX_TOKENS=4096
```

### 3. è¿è¡Œç¤ºä¾‹

#### äº¤äº’æ¨¡å¼
```bash
python -m src.main
```

#### å‘½ä»¤è¡Œæ¨¡å¼
```bash
python -m src.main "ç¬¬ä¸€æ¬¡å·¥ä¸šé©å‘½"
```

#### ä½¿ç”¨ç¤ºä¾‹è„šæœ¬
```bash
python examples/simple_example.py
```

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ç”¨æ³•

```python
import asyncio
from src import run_content_creation

async def main():
    result = await run_content_creation(
        topic="äººå·¥æ™ºèƒ½åœ¨åŒ»ç–—é¢†åŸŸçš„åº”ç”¨",
        use_selector=False,  # ä½¿ç”¨è½®è¯¢æ¨¡å¼
        verbose=True         # æ˜¾ç¤ºè¯¦ç»†è¾“å‡º
    )
    print(result)

asyncio.run(main())
```

### è‡ªå®šä¹‰ Agent å›¢é˜Ÿ

```python
from src.agents import create_content_creation_team

# åˆ›å»ºå›¢é˜Ÿ
team = create_content_creation_team()

# è¿è¡Œä»»åŠ¡
result = await team.run(task="ä½ çš„ä¸»é¢˜")
```

### ä½¿ç”¨é€‰æ‹©å™¨æ¨¡å¼

```python
from src.agents import create_selector_team

# åˆ›å»ºé€‰æ‹©å™¨å›¢é˜Ÿï¼ˆæ›´çµæ´»ä½†æˆæœ¬æ›´é«˜ï¼‰
team = create_selector_team()

# è¿è¡Œä»»åŠ¡
result = await team.run(task="ä½ çš„ä¸»é¢˜")
```

## ğŸ“Š ç¤ºä¾‹åœºæ™¯

### 1. å†å²å†™ä½œ
**è¾“å…¥**: "ç¬¬ä¸€æ¬¡å·¥ä¸šé©å‘½"

**è¾“å‡º**:
- æ—¶é—´: 1760-1840 å¹´
- åœ°ç‚¹: è‹±å›½ã€æ›¼å½»æ–¯ç‰¹ã€ä¼¯æ˜ç¿°
- äººç‰©: è©¹å§†æ–¯Â·ç“¦ç‰¹ã€ç†æŸ¥å¾·Â·é˜¿å…‹è±ç‰¹
- å¼•ç”¨: å†å²æ–‡çŒ®ã€å­¦æœ¯è®ºæ–‡

### 2. ç§‘æŠ€æŠ¥é“
**è¾“å…¥**: "äººå·¥æ™ºèƒ½åœ¨åŒ»ç–—é¢†åŸŸçš„åº”ç”¨"

**è¾“å‡º**:
- æ—¶é—´: å…³é”®æŠ€æœ¯å‘å±•æ—¶é—´çº¿
- åœ°ç‚¹: ä¸»è¦ç ”ç©¶æœºæ„å’Œåº”ç”¨æ¡ˆä¾‹
- äººç‰©: ç ”ç©¶å›¢é˜Ÿå’Œä¸“å®¶
- å¼•ç”¨: å­¦æœ¯è®ºæ–‡ã€æ–°é—»æŠ¥é“

### 3. æ–‡åŒ–ä»‹ç»
**è¾“å…¥**: "ä¸­å›½æ˜¥èŠ‚ä¹ ä¿—"

**è¾“å‡º**:
- æ—¶é—´: èŠ‚æ—¥æ—¶é—´ã€å†å²æ¼”å˜
- åœ°ç‚¹: å„åœ°é£ä¿—å·®å¼‚
- äººç‰©: å†å²ä¼ è¯´äººç‰©
- å¼•ç”¨: æ°‘ä¿—å­¦ç ”ç©¶èµ„æ–™

## ğŸ”§ é…ç½®è¯´æ˜

### æ¨¡å‹é…ç½®

åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®ï¼š

```env
# æ¨¡å‹é€‰æ‹©
DEFAULT_MODEL=gpt-4-turbo-preview  # æˆ– gpt-3.5-turbo

# ç”Ÿæˆå‚æ•°
TEMPERATURE=0.7  # åˆ›æ„åº¦ (0-1)
MAX_TOKENS=4096  # æœ€å¤§è¾“å‡ºé•¿åº¦

# Agent é…ç½®
MAX_MESSAGES=50  # æœ€å¤§æ¶ˆæ¯æ•°
```

### Agent æ¨¡å¼

**RoundRobinGroupChat** (é»˜è®¤):
- æŒ‰å›ºå®šé¡ºåºæ‰§è¡Œ
- å¯é¢„æµ‹ã€æˆæœ¬è¾ƒä½
- é€‚åˆæ˜ç¡®çš„æµç¨‹

**SelectorGroupChat** (å¯é€‰):
- åŠ¨æ€é€‰æ‹©ä¸‹ä¸€ä¸ª Agent
- æ›´çµæ´»ã€æˆæœ¬è¾ƒé«˜
- é€‚åˆå¤æ‚åœºæ™¯

## ğŸ“ é¡¹ç›®ç»“æ„

```
autogen0.4_taskinfo/
â”œâ”€â”€ memory-bank/          # Memory Bank æ–‡æ¡£
â”‚   â”œâ”€â”€ projectbrief.md
â”‚   â”œâ”€â”€ productContext.md
â”‚   â”œâ”€â”€ systemPatterns.md
â”‚   â”œâ”€â”€ techContext.md
â”‚   â”œâ”€â”€ activeContext.md
â”‚   â””â”€â”€ progress.md
â”œâ”€â”€ src/                  # æºä»£ç 
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ agents.py        # Agent å®šä¹‰
â”‚   â”œâ”€â”€ config.py        # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ models.py        # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ prompts.py       # æç¤ºæ¨¡æ¿
â”‚   â””â”€â”€ main.py          # ä¸»ç¨‹åº
â”œâ”€â”€ examples/            # ç¤ºä¾‹ä»£ç 
â”‚   â””â”€â”€ simple_example.py
â”œâ”€â”€ requirements.txt     # ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ .env.example        # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md           # é¡¹ç›®æ–‡æ¡£
```

## ğŸ” MCP å·¥å…·é›†æˆ

ç³»ç»Ÿæ”¯æŒé€šè¿‡ MCPï¼ˆModel Context Protocolï¼‰é›†æˆå¤–éƒ¨å·¥å…·ï¼š

### Tavily Search
- ç½‘ç»œæœç´¢
- å†…å®¹æå–
- å¼•ç”¨æ¥æºæŸ¥æ‰¾

### é«˜å¾·åœ°å›¾ï¼ˆå¯é€‰ï¼‰
- åœ°ç†ç¼–ç 
- åœ°ç‚¹ä¿¡æ¯æŸ¥è¯¢
- POI æœç´¢

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**1. "æœªé…ç½® OPENAI_API_KEY"**
- ç¡®ä¿ `.env` æ–‡ä»¶å­˜åœ¨
- æ£€æŸ¥ API Key æ˜¯å¦æ­£ç¡®

**2. ä¾èµ–å®‰è£…å¤±è´¥**
```bash
# å‡çº§ pip
pip install --upgrade pip

# é‡æ–°å®‰è£…ä¾èµ–
pip install -r requirements.txt --no-cache-dir
```

**3. AutoGen ç‰ˆæœ¬é—®é¢˜**
```bash
# ç¡®ä¿å®‰è£… 0.4+ ç‰ˆæœ¬
pip install --upgrade autogen-agentchat autogen-ext
```

## ğŸ“ å¼€å‘æŒ‡å—

### æ·»åŠ æ–° Agent

1. åœ¨ `prompts.py` æ·»åŠ ç³»ç»Ÿæç¤º
2. åœ¨ `agents.py` åˆ›å»º Agent å‡½æ•°
3. åœ¨å›¢é˜Ÿä¸­æ³¨å†Œ Agent

### è‡ªå®šä¹‰æç¤º

ç¼–è¾‘ `src/prompts.py` ä¸­çš„æç¤ºæ¨¡æ¿ï¼š
```python
CUSTOM_AGENT_PROMPT = """
ä½ çš„è‡ªå®šä¹‰æç¤º...
"""
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ”— ç›¸å…³èµ„æº

- [AutoGen å®˜æ–¹æ–‡æ¡£](https://microsoft.github.io/autogen/)
- [Tavily API æ–‡æ¡£](https://tavily.com/)
- [OpenAI API æ–‡æ¡£](https://platform.openai.com/docs)

## ğŸ’¡ æœªæ¥è®¡åˆ’

- [ ] æ”¯æŒæ›´å¤š LLM æä¾›å•†
- [ ] æ·»åŠ ç»“æœç¼“å­˜æœºåˆ¶
- [ ] æ”¯æŒæµå¼è¾“å‡º
- [ ] å®ç° Web ç•Œé¢
- [ ] æ”¯æŒå¤šè¯­è¨€
- [ ] æ·»åŠ æ›´å¤šç¤ºä¾‹åœºæ™¯

---

**ä½œè€…**: AI Content Creation Team  
**ç‰ˆæœ¬**: 0.1.0  
**æ›´æ–°æ—¶é—´**: 2025-01-29
